<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style>

</style>

<script th:inline="javascript">
    /*<![CDATA[*/
    function init() {
        var url = "http://localhost:8080/bmn/ceoStore";
        var confmKey = "U01TX0FVVEgyMDIzMDcwMTA1MTY0ODExMzg5MjM=";
        var resultType = "4";
        var inputYn = [[${inputYn}]];
        if (inputYn !== "Y") {
            document.form.confmKey.value = confmKey;
            document.form.returnUrl.value = url;
            document.form.resultType.value = resultType;
            document.form.action = "https://business.juso.go.kr/addrlink/addrCoordUrl.do";
            document.form.submit();
        } else {
            var roadFullAddr = [[${roadFullAddr}]];
            var roadAddrPart1 = [[${roadAddrPart1}]];
            var addrDetail = [[${addrDetail}]];
            var roadAddrPart2 = [[${roadAddrPart2}]];
            var engAddr = [[${engAddr}]];
            var jibunAddr = [[${jibunAddr}]];
            var zipNo = [[${zipNo}]];
            var admCd = [[${admCd}]];
            var rnMgtSn = [[${rnMgtSn}]];
            var bdMgtSn = [[${bdMgtSn}]];
            var detBdNmList = [[${detBdNmList}]];
            var bdNm = [[${bdNm}]];
            var bdKdcd = [[${bdKdcd}]];
            var siNm = [[${siNm}]];
            var sggNm = [[${sggNm}]];
            var emdNm = [[${emdNm}]];
            var liNm = [[${liNm}]];
            var rn = [[${rn}]];
            var udrtYn = [[${udrtYn}]];
            var buldMnnm = [[${buldMnnm}]];
            var buldSlno = [[${buldSlno}]];
            var mtYn = [[${mtYn}]];
            var lnbrMnnm = [[${lnbrMnnm}]];
            var lnbrSlno = [[${lnbrSlno}]];
            var emdNo = [[${emdNo}]];
            var entX = [[${entX}]];
            var entY = [[${entY}]];
            // 주소 전달 해줘야함
            opener.parent.jusoCallBack(
                roadFullAddr, roadAddrPart1, addrDetail, roadAddrPart2, engAddr, jibunAddr, zipNo, admCd, rnMgtSn, bdMgtSn
                ,detBdNmList, bdNm, bdKdcd, siNm, sggNm, emdNm, liNm, rn, udrtYn, buldMnnm, buldSlno, mtYn, lnbrMnnm, lnbrSlno,
                emdNo, entX, entY
            );
            opener.parent.deleteAt();

            window.close();
        }
    }
    /*]]>*/
</script>
<body onload="init()">
<form action="bmn/test" id="form" name="form" method="post">
    <input type="hidden" id="confmKey" name="confmKey" value=""/>
    <input type="hidden" id="returnUrl" name="returnUrl" value=""/>
    <input type="hidden" id="resultType" name="resultType" value=""/>
</form>
</body>
</html>